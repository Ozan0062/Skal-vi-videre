@page "/"
@inject IJSRuntime JSRuntime
@inject NavigationManager NavigationManager


<!-- UDKOMMENTERET INDTIL DET SKAL BRUGES SENERE
    <h3>Google Map Example</h3>

<button @onclick="LoadMap" class="btn btn-primary">Load Map</button>
<div id="@MapContainerId" style="height: 400px; width: 100%;" hidden></div> -->

<div class="container mt-5">
    <div class="row">
        <!-- Left Section for Big Text and small text -->
        <div class="col-lg-6 text-container">
            <h1 class="big-text">
                Opret din virksomhed nu og lad kunderne finde dig – nemt og hurtigt!
            </h1>
            <p class="small-text">
                Gratis og nemt at betjene. Du laver et event, og kunderne kan se dit event på deres app på mobiltelefon.
            </p>
            <!-- Button Below the Text -->
            <button class="btn btn-primary create-button" @onclick="NavigateToCreatePage">
                Opret virksomhedd
            </button>
        </div>
        <!-- Right Section for Image -->
        <div class="col-lg-6 text-center">
            <!-- Placeholder for right-side content (e.g., image, graphic, etc.) -->
            <img src="images/skal vi videre endelig logo.png" alt="skal vi videre logo" class="img-fluid">
        </div>
    </div>
</div>



@code {
    [Parameter] public double Latitude { get; set; } = 55.630846563348534; // Default latitude
    [Parameter] public double Longitude { get; set; } = 12.078656210578572; // Default longitude
    [Parameter] public string MapContainerId { get; set; } = "homeMap";

    private bool isMapLoaded = false;

    private async Task LoadMap()
    {
        if (!isMapLoaded)
        {
            isMapLoaded = true;

            // Remove the 'hidden' attribute from the map container
            await JSRuntime.InvokeVoidAsync("eval", $"document.getElementById('{MapContainerId}').removeAttribute('hidden');");

            // Call JavaScript function to initialize the map
            await JSRuntime.InvokeVoidAsync("initMap", MapContainerId, Latitude, Longitude);
        }
    }

    private void NavigateToCreatePage()
    {
        NavigationManager.NavigateTo("/Register");
    }
}
